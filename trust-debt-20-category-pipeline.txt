# TRUST DEBT 20-CATEGORY PIPELINE SPECIFICATION
# ================================================

CORE USER QUESTION: "How healthy is my project and what should I fix first?"
MEASUREMENT APPROACH: Calculate actual grade based on Process Methodology vs Implementation Reality

# PATENT FORMULA: |Intent - Reality|Â² Ã— CategoryWeight Ã— ProcessHealth

CALIBRATED GRADE BOUNDARIES (20-CATEGORY SYSTEM):
Grade A (ğŸŸ¢ EXCELLENT): 0-500 units - Process optimization achieved
Grade B (ğŸŸ¡ GOOD): 501-1500 units - Process refinement needed
Grade C (ğŸŸ  NEEDS ATTENTION): 1501-3000 units - Process restructuring required
Grade D (ğŸ”´ REQUIRES WORK): 3001+ units - Process overhaul necessary

# 20-CATEGORY HIERARCHICAL STRUCTURE
# ==================================

AğŸ” Semantic Category Architecture (21% - 315 units target):
- AğŸ”.1ğŸ“Š Category Definition Methodology (105 units)
- AğŸ”.2ğŸ” Semantic Orthogonality Validation (105 units)  
- AğŸ”.3âš–ï¸ Balance Distribution Process (105 units)

BğŸ’š Process Health Governance (18% - 270 units target):
- BğŸ’š.1ğŸ“ˆ Health Metric Calculation (90 units)
- BğŸ’š.2ğŸ¯ Process Quality Validation (90 units)
- BğŸ’š.3ğŸ›¡ï¸ Health Degradation Detection (90 units)

CğŸ“Š Matrix Calculation Engine (16% - 240 units target):
- CğŸ“Š.1ğŸ”¢ ShortLex Ordering Algorithm (80 units)
- CğŸ“Š.2ğŸ¨ Double-Walled Submatrix Structure (80 units)
- CğŸ“Š.3âš¡ Asymmetric Matrix Population (80 units)

Dâœ… Integration Validation (15% - 225 units target):
- Dâœ….1ğŸ”— Cross-Agent Data Flow (75 units)
- Dâœ….2ğŸ“‹ JSON Bucket Integrity (75 units)
- Dâœ….3ğŸ¯ Pipeline Coherence Validation (75 units)

EğŸ”„ Regression Prevention (12% - 180 units target):
- EğŸ”„.1ğŸ“Š Timeline Analysis Method (60 units)
- EğŸ”„.2âš ï¸ Regression Detection Algorithm (60 units)
- EğŸ”„.3ğŸ“ˆ Historical Trend Analysis (60 units)

FğŸ›ï¸ Meta-System Governance (10% - 150 units target):
- FğŸ›ï¸.1ğŸ§  Zero Multiplier Calculation (75 units)
- FğŸ›ï¸.2âš–ï¸ EU AI Act Compliance Framework (75 units)

GğŸ“„ Legitimacy Synthesis (8% - 120 units target):
- GğŸ“„.1âœ… Report Generation Process (60 units)
- GğŸ“„.2ğŸ¨ Visual Coherence Algorithm (60 units)

TOTAL TARGET: 1500 units (Grade B - process refinement needed)
MATRIX SIZE: 20Ã—20 = 400 cells (manageable complexity)

# AGENT RESPONSIBILITY MAPPING
# ============================

AGENT 0: Outcome Requirements Parser
â†’ Maps to AğŸ” Semantic Category Architecture
â†’ Focuses on HOW categories are defined and validated

AGENT 1: Database Indexer & Keyword Extractor  
â†’ Maps to AğŸ” Semantic Category Architecture
â†’ Focuses on HOW semantic indexing works

AGENT 2: Category Generator & Orthogonality Validator
â†’ Maps to BğŸ’š Process Health Governance + AğŸ”.2ğŸ” Orthogonality
â†’ Focuses on HOW process health is maintained

AGENT 3: ShortLex Validator & Matrix Builder
â†’ Maps to CğŸ“Š Matrix Calculation Engine
â†’ Focuses on HOW matrix calculations are executed

AGENT 4: Grades & Statistics Calculator
â†’ Maps to Dâœ… Integration Validation
â†’ Focuses on HOW validation and integration work

AGENT 5: Timeline & Historical Analyzer
â†’ Maps to EğŸ”„ Regression Prevention  
â†’ Focuses on HOW regression detection works

AGENT 6: Analysis & Narrative Generator
â†’ Maps to FğŸ›ï¸ Meta-System Governance
â†’ Focuses on HOW meta-analysis frameworks operate

AGENT 7: Report Generator & Final Auditor
â†’ Maps to GğŸ“„ Legitimacy Synthesis
â†’ Focuses on HOW legitimacy is synthesized and presented

# PROCESS OUTCOME FOCUS AREAS
# ===========================

FROM HTML REPORT - EXTRACT THESE PROCESS ELEMENTS:
âœ… Patent Formula Implementation: |Intent - Reality|Â² calculation methodology
âœ… Asymmetric Matrix Process: Upperâ–³ vs Lowerâ–³ calculation approach  
âœ… ShortLex Ordering Algorithm: Position-based hierarchical weighting
âœ… Sophistication Discount Process: -30% multi-agent architecture credit
âœ… Grade Boundary Calibration: Mathematical threshold calculation
âœ… Process Health Correlation: Inverse relationship methodology
âœ… Orthogonality Validation: Cross-category correlation measurement
âœ… Double-Walled Submatrix: Visual structure generation process

# JSON BUCKET SPECIFICATIONS (20-CATEGORY)
# ========================================

0-outcome-requirements.json:
- Extract 20 process methodology requirements
- Focus on HOW measurement works, not WHAT was measured
- Map each requirement to responsible agent and category

1-indexed-keywords.json:
- 20 categories with keyword mapping
- Process-focused keyword extraction
- Semantic orthogonality validation data

2-categories-balanced.json:
- Exactly 20 categories with balanced distribution
- Process health validation results
- Orthogonality correlation scores

3-presence-matrix.json:  
- 20Ã—20 matrix (400 cells)
- ShortLex ordering validation
- Double-walled submatrix structure

4-grades-statistics.json:
- Grade calculation using 20-category structure
- Process health correlation data
- Integration validation results

5-timeline-history.json:
- Timeline analysis of process evolution
- Regression detection results
- Historical trend validation

6-analysis-narratives.json:
- Meta-system governance analysis
- Zero multiplier calculation results
- EU AI Act compliance framework

7-final-report.html:
- 20Ã—20 matrix visualization
- Process-focused presentation
- Legitimacy synthesis with visual coherence

# CRITICAL MIGRATION REQUIREMENTS
# ===============================

1. REMOVE ALL 45-CATEGORY REFERENCES:
   - Update all agents to use 20-category structure
   - Remove 45Ã—45 matrix references
   - Update SQL schema to 20-category support

2. PROCESS FOCUS CONVERSION:
   - Extract measurement methodologies, not results
   - Focus on "how grading works" not "what grades are"
   - Emphasize process transparency over outcome reporting

3. AGENT RESPONSIBILITY ALIGNMENT:
   - Each agent maps to specific category foundation
   - Agent outputs feed into category validation
   - Pipeline coherence through category dependencies

4. MATHEMATICAL CONSISTENCY:
   - Patent formula remains valid for 20 categories
   - Grade boundaries recalibrated for smaller matrix
   - Process health calculation adjusted for new structure

# VALIDATION CHECKPOINTS
# ======================

âœ… User Question Answered: Process health clearly communicated
âœ… Category Balance: ~75 units per category (Â±25 acceptable)
âœ… Matrix Complexity: 400 cells (vs 2025 previously)
âœ… Agent Mapping: Each agent has clear category responsibility
âœ… Process Transparency: HOW measurement works is clear
âœ… Mathematical Legitimacy: Patent formula produces intuitive results
âœ… Visual Coherence: Professional 20Ã—20 matrix presentation
âœ… Actionable Insights: Clear path between grade levels

TARGET GRADE: B (1500 units) - "Sophisticated process with clear refinement path"